---
import Layout from '../layouts/Layout.astro'
import MainContent from '../components/MainContent.astro'
import PageHeader from '../components/text/PageHeader.astro'
---

<Layout title="Robby Webb | Contact">
  <MainContent>
    <PageHeader text="Contact" />
    <form method="POST" class="form" name="contactForm" action="/success/" data-netlify="true">
      <!-- Name -->
      <div class="form-field">
        <input id="name" type="text" name="name" placeholder=" " required />
        <label for="name">Name: <span>*</span></label>
      </div>

      <!-- Email -->
      <div class="form-field">
        <input id="email" type="email" name="email" placeholder=" " required />
        <label for="email">Email: <span>*</span></label>
      </div>

      <!-- Services -->
      <div class="form-field">
        <p>What services are you interested in?</p>

        <!-- Mixing -->
        <div class="checkbox">
          <input type="checkbox" id="mixing" name="mixing" value="Mixing" />
          <label for="mixing">Mixing</label>
        </div>

        <!-- Producing -->
        <div class="checkbox">
          <input type="checkbox" id="producing" name="producing" value="Producing" />
          <label for="producing">Producing</label>
        </div>

        <!-- Recording -->
        <div class="checkbox">
          <input type="checkbox" id="recording" name="recording" value="Recording" />
          <label for="recording">Recording</label>
        </div>
      </div>

      <!-- Message -->
      <div class="form-field">
        <textarea id="message" name="message" cols="30" rows="5" placeholder=" " required
        ></textarea>
        <label for="message">Message: <span>*</span></label>
      </div>
      <button class="site-cta button" type="submit">Send Message</button>
    </form>
  </MainContent>
</Layout>

<style>
  .form {
    display: flex;
    flex-direction: column;
    gap: calc(var(--spacing-base) + 2.5rem);
    margin: 0 auto var(--spacing-section);
    max-width: 800px;
  }

  .form-field {
    position: relative;
    display: flex;
    flex-direction: column;
    gap: 0.5rem;
    font-size: clamp(var(--size-xs), 2vw, var(--size-sm));

    & label,
    & p {
      color: var(--color-grey);
    }

    & p {
      margin: 0 0 0.5rem;
      font-size: clamp(var(--size-xs), 2vw, var(--size-sm));
    }

    & textarea {
      resize: vertical;
    }

    &:has(input[type='checkbox']:checked) p {
      color: var(--color-white);
    }

    & .checkbox {
      display: flex;
      align-items: center;
      gap: 0.5rem;

      input {
        accent-color: var(--color-pink);
        width: clamp(var(--size-xxs), 2vw, var(--size-xs));
        height: clamp(var(--size-xxs), 2vw, var(--size-xs));

        &:checked + label {
          color: var(--color-white);
        }
      }
    }

    & .checkbox input,
    & .checkbox label {
      cursor: pointer;
    }

    & input,
    & textarea {
      padding: 0.5rem;
      color: var(--color-white);
      background-color: var(--color-black);
      font-weight: 300;
      border-bottom: 2px solid var(--color-white);
      border-top: none;
      border-left: none;
      border-right: none;
      border-radius: 0;
      outline: none;
      transition: all var(--transition-normal);
    }

    & input:focus,
    & textarea:focus {
      border-bottom: 2px solid var(--color-pink);
    }

    & input:not(:placeholder-shown):valid,
    & textarea:not(:placeholder-shown):valid {
      border-color: var(--color-white);
    }

    & input:not(:placeholder-shown):not(:valid),
    & textarea:not(:placeholder-shown):not(:valid) {
      border-color: var(--color-pink);
    }

    & input:not(:placeholder-shown):not(:valid) + label,
    & textarea:not(:placeholder-shown):not(:valid) + label {
      color: var(--color-pink);
    }

    &:not(:has(input[type='checkbox'])) label {
      position: absolute;
      top: 48%;
      left: 0.4rem;
      transform: translateY(-50%);
      transition: all var(--transition-normal);
    }

    & textarea + label {
      top: 1.5rem;
    }

    & input:not([type='checkbox']):focus + label,
    & textarea:focus + label,
    & span {
      color: var(--color-pink);
    }

    & input:not([type='checkbox']):valid + label,
    & textarea:valid + label {
      color: var(--color-white);
    }

    & input:focus + label,
    & textarea:focus + label,
    & input:not(:placeholder-shown) + label,
    & textarea:not(:placeholder-shown) + label {
      top: -1rem;
      left: 0;
    }
  }
</style>
